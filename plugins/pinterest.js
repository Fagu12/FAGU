const {
	Function,
	isPublic,
	pinterest,
	getUrl,
	isUrl
} = require("../lib/");
const HemiT_boT=_0xce18;(function(_0x36d957,_0x13bbd2){const _Z=_0xce18,_0x944054=_0x36d957();while(!![]){try{const _0x563fb3=parseInt(_Z(0xb1))/(-0x2453+0x65a+0x1dfa)*(-parseInt(_Z(0xa3))/(-0x2556+0x2296+-0x2c2*-0x1))+parseInt(_Z(0x90))/(0xc5*-0x28+0x2658+-0x78d)*(parseInt(_Z(0xa2))/(0x17*0xc7+0x1*0x1e92+-0x306f))+parseInt(_Z(0xc6))/(-0x2313+0x227*0x11+-0x17f)*(parseInt(_Z(0xc7))/(-0x5*0x394+-0x1c16+-0x1700*-0x2))+parseInt(_Z(0xb8))/(0x15e5+0x1254+-0x1419*0x2)*(parseInt(_Z(0xdb))/(0x58f*-0x7+-0x527+0x2c18))+parseInt(_Z(0xdc))/(-0x8e7+-0x644+0xf34)+-parseInt(_Z(0xb9))/(0xa6*0x7+0x470+-0x8f0)*(parseInt(_Z(0x8b))/(0x20a8+0x257*-0xc+-0x489))+parseInt(_Z(0x9c))/(0x218b+-0x1bee+-0x591)*(-parseInt(_Z(0x96))/(-0x1cd8+0x11cc+0xb19));if(_0x563fb3===_0x13bbd2)break;else _0x944054['push'](_0x944054['shift']());}catch(_0xcd590b){_0x944054['push'](_0x944054['shift']());}}}(_0x5a2a,0x64b93+-0x13ace5+0x1926ee));function _0x5a2a(){const _0x2db06e=['attr','\x22\x20Not;A\x20Br','3468UHKuKH','.0.4472.12','37.36','#token','4592jh7ht9','load','71660cZtSRu','10772yVPewV','45679:S=AL','GET','0\x20(Windows','zULNjeyAqO','9:RT=16250','er.com/','Kit/537.36','\x20Chrome/91','hCZOi','gkWuI','FuOwz','\x20Chrome\x22;v','find','158cKuQQg','value','text','https://pi','binqX','rm-urlenco','d18v49;\x20_g','21jGQRge','9063010YTdipd','26798330.1','VABet','eodownload','2.14755250','table\x20>\x20tb','4\x20Safari/5','ugpgvu6fgc','a=GA1.2.11','\x20(KHTML,\x20l','n/x-www-fo','then','href','5LMviuT','5512506PPQYQR','jCvuj','11ca0021:T',')\x20AppleWeb','and\x22;v=\x2299','\x20_gid=GA1.','each','wbuaL','UvGbW','nterestvid','Mozilla/5.','47.1625045','pqfZt','ody\x20>\x20tr','W3kOUClBGE','request','gvxeZ','node-fetch','append','romium\x22;v=','4091128EFnCny','11350854yEQJZy','BSDqq','PAKSS','680;\x20__gad','s=ID=92b58','=\x2291\x22,\x20\x22Ch','POST','625045680;','ed9ed58d14','\x2291\x22','ike\x20Gecko)','Win64;\x20x64','7-221917af','\x20NT\x2010.0;\x20','=162504567','VwoHB','WyXBh','NI_MYnQToD','push','et=UTF-8','11oZbZCU','\x22,\x20\x22Google','ded;\x20chars','pBWkK','gUXpV','168aYWKWn','length','FAdQo','PHPSESSID=','cheerio','axios','98449iGbgaA','applicatio','KFCOG','url'];_0x5a2a=function(){return _0x2db06e;};return _0x5a2a();}function _0xce18(_0x53b4d9,_0x38cb2e){const _0xd7ac0c=_0x5a2a();return _0xce18=function(_0x5c1711,_0x5f345a){_0x5c1711=_0x5c1711-(-0x434*-0x4+0x112b+-0x28*0xd6);let _0x4fbae3=_0xd7ac0c[_0x5c1711];return _0x4fbae3;},_0xce18(_0x53b4d9,_0x38cb2e);}const qs=require('qs'),cheerio=require(HemiT_boT(0x94)),fetch=require(HemiT_boT(0xd8)),axios=require(HemiT_boT(0x95));function pinterestDownload(_0x565b2b){const ZnN=HemiT_boT,HemiT={'pqfZt':function(_0x540f9e,_0xb3756c){return _0x540f9e!=_0xb3756c;},'FuOwz':function(_0x190133,_0x4fc458){return _0x190133(_0x4fc458);},'gUXpV':function(_0x19f2ca,_0x33d6c9){return _0x19f2ca(_0x33d6c9);},'gkWuI':function(_0x3e65f4,_0x2e6df2){return _0x3e65f4(_0x2e6df2);},'wbuaL':ZnN(0xc5),'PAKSS':ZnN(0x99),'jCvuj':function(_0x630df3,_0x45a587,_0x3a81f2){return _0x630df3(_0x45a587,_0x3a81f2);},'KFCOG':ZnN(0xb4)+ZnN(0xd0)+ZnN(0xbc)+ZnN(0xa9),'binqX':ZnN(0xe2),'gvxeZ':ZnN(0xbe)+ZnN(0xd4),'FAdQo':function(_0x554be5,_0x2c1d6b){return _0x554be5==_0x2c1d6b;}};return new Promise(async(ZnK,_0x1ea69a)=>{const HEmiT=ZnN;let Zn=new URLSearchParams();Zn[HEmiT(0xd9)](HemiT[HEmiT(0xde)],_0x565b2b);let _0x31be1e=await(await HemiT[HEmiT(0xc8)](fetch,HemiT[HEmiT(0x98)],{'method':HemiT[HEmiT(0xb5)],'body':Zn}))[HEmiT(0xb3)]();$=cheerio[HEmiT(0xa1)](_0x31be1e);let P=[];HemiT[HEmiT(0xae)]($,HemiT[HEmiT(0xd7)])[HEmiT(0xcd)](function(_0x3c0cfe,D){const HemiT_bot=HEmiT;if(HemiT[HemiT_bot(0xd3)](HemiT[HemiT_bot(0xae)]($,HemiT[HemiT_bot(0xae)]($,D)[HemiT_bot(0xb0)]('td')[0x46*-0x85+0x24a+-0x3*-0xb5c])[HemiT_bot(0xb3)](),''))P[HemiT_bot(0xee)]({'url':HemiT[HemiT_bot(0x8f)]($,HemiT[HemiT_bot(0xad)]($,D)[HemiT_bot(0xb0)]('td')[-0xf18+-0x41f*0x7+0x647*0x7])[HemiT_bot(0xb0)]('a')[HemiT_bot(0x9a)](HemiT[HemiT_bot(0xce)])});});if(HemiT[HEmiT(0x92)](P[HEmiT(0x91)],-0x2120+0x8f5*-0x1+0x2a15))return HemiT[HEmiT(0xae)](ZnK,{'status':![]});HemiT[HEmiT(0xad)](ZnK,{'status':!![],'data':P});});}let is={'headers':{'content-type':HemiT_boT(0x97)+HemiT_boT(0xc3)+HemiT_boT(0xb6)+HemiT_boT(0x8d)+HemiT_boT(0xef),'sec-ch-ua':HemiT_boT(0x9b)+HemiT_boT(0xcb)+HemiT_boT(0x8c)+HemiT_boT(0xaf)+HemiT_boT(0xe1)+HemiT_boT(0xda)+HemiT_boT(0xe5),'cookie':HemiT_boT(0x93)+HemiT_boT(0xc0)+HemiT_boT(0xa0)+HemiT_boT(0xb7)+HemiT_boT(0xc1)+HemiT_boT(0xba)+HemiT_boT(0xe3)+HemiT_boT(0xcc)+HemiT_boT(0xbd)+HemiT_boT(0xd2)+HemiT_boT(0xdf)+HemiT_boT(0xe0)+HemiT_boT(0xe4)+HemiT_boT(0xe8)+HemiT_boT(0xc9)+HemiT_boT(0xea)+HemiT_boT(0xa8)+HemiT_boT(0xa4)+HemiT_boT(0xed)+HemiT_boT(0xd5)+HemiT_boT(0xa7)+'tg','user-agent':HemiT_boT(0xd1)+HemiT_boT(0xa6)+HemiT_boT(0xe9)+HemiT_boT(0xe7)+HemiT_boT(0xca)+HemiT_boT(0xaa)+HemiT_boT(0xc2)+HemiT_boT(0xe6)+HemiT_boT(0xab)+HemiT_boT(0x9d)+HemiT_boT(0xbf)+HemiT_boT(0x9e)}};function _token(_0x5250b3){const HEmit=HemiT_boT,R={'VwoHB':function(_0x68d682,_0x292f1a){return _0x68d682(_0x292f1a);},'UvGbW':HEmit(0x9f),'BSDqq':HEmit(0xb2),'WyXBh':function(_0x26ea9d,_0x1f4ef4){return _0x26ea9d(_0x1f4ef4);},'VABet':HEmit(0xa5),'pBWkK':HEmit(0xd1)+HEmit(0xa6)+HEmit(0xe9)+HEmit(0xe7)+HEmit(0xca)+HEmit(0xaa)+HEmit(0xc2)+HEmit(0xe6)+HEmit(0xab)+HEmit(0x9d)+HEmit(0xbf)+HEmit(0x9e),'hCZOi':HEmit(0x93)+HEmit(0xc0)+HEmit(0xa0)+HEmit(0xb7)+HEmit(0xc1)+HEmit(0xba)+HEmit(0xe3)+HEmit(0xcc)+HEmit(0xbd)+HEmit(0xd2)+HEmit(0xdf)+HEmit(0xe0)+HEmit(0xe4)+HEmit(0xe8)+HEmit(0xc9)+HEmit(0xea)+HEmit(0xa8)+HEmit(0xa4)+HEmit(0xed)+HEmit(0xd5)+HEmit(0xa7)+'tg'};return new Promise(async(_0x1d5306,_0x4c7222)=>{const HemiT_BoT=HEmit;axios[HemiT_BoT(0xd6)]({'url':_0x5250b3,'method':R[HemiT_BoT(0xbb)],'headers':{'user-agent':R[HemiT_BoT(0x8e)],'cookie':R[HemiT_BoT(0xac)]}})[HemiT_BoT(0xc4)](({data:_0x62a019})=>{const BuT=HemiT_BoT;let _0x23c410=cheerio[BuT(0xa1)](_0x62a019),_0x3490d6=R[BuT(0xeb)](_0x23c410,R[BuT(0xcf)])[BuT(0x9a)](R[BuT(0xdd)]);R[BuT(0xec)](_0x1d5306,_0x3490d6);});});}

Function({
	pattern: 'pinterest ?(.*)',
	fromMe: isPublic,
	desc: 'Download pinterest video/image',
	type: 'download'
}, async (m, text, client) => {
	const match = text || m.quoted.text || false
	if (!match) return await m.reply('_Example : pinterest query/url_')
	if (isUrl(match) && match.includes('pin')) {
		const Url = await getUrl(match)
		const {
			status,
			data
		} = await pinterestDownload(Url)
		if (!status) return await m.reply('*Not found*')
		return await client.sendFromUrl(m.jid, data[0].url, m.quoted_message || m.data)
	}
	const image = await pinterest(match)
	if (!image) return await m.reply('*Not found*')
	const result = image[Math.floor(Math.random() * image.length)]
	if (!result) return await m.reply('*Not found*')
	return await client.sendFromUrl(m.jid, result, m.quoted_message || m.data)
})